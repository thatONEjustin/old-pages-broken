---
import moment from "moment";

import { Image } from "astro:assets"

import BaseLayout from "@layouts/base.astro";
import PillButton from "@components/pill-button.astro";
import NerdfontIcon from "@components/nerdfont-icon.astro";
import SocialMediaList from "@components/social-media-list.astro";

import resume from "/resume.pdf"
import me from "../img/me.jpeg"

import { getCollection, getEntries } from 'astro:content'

// const projects_collection = await getCollection('projects')

// const projects = projects_collection.sort((a,b) => {
//   return moment(a.data.date).isAfter(moment(b.data.date));
// })
//
// const project_entries = getEntries(projects)
// console.log(project_entries)
---

<BaseLayout>
  <section id="intro" class="py-10 relative border-b border-b-purple border-opacity-10 overflow-hidden">
    <div class="justin-container">
      <h2 class="text-6xl font-belanosima text-center text-cyan py-12">Let's work <span class="text-yellow">together</span>!</h1>

      <div class="flex flex-col md:flex-row z-20 py-8">
        <div class="order-2 md:order-1">
          <h2 class="text-yellow border-b border-yellow lg:mb-2">here's a short introduction</h2>
          <p class="text-dark-600 text-3xl leading-relaxed">I'm a huge nerd about <NerdfontIcon classes="text-cyan" icon="nf-md-web" /> <span class="text-cyan">web development,</span> <NerdfontIcon classes="text-light" icon="nf-dev-terminal"/> <span class="text-light">tooling,</span> <NerdfontIcon classes="text-green" icon="nf-md-git"/> <span class="text-green">CI/CD,</span> and <NerdfontIcon classes="text-orange" icon="nf-md-remote_desktop" /> <span class="text-orange">server administration</span>. <span class="font-semibold fancy-border fancy-text italic">I thrive</span> when working with tight knit teams on finding elegant solutions for any full stack deployment.</p>
          <p class="text-dark-200 text-xl leading-relaxed mt-3">
              i use <NerdfontIcon icon="nf-md-arch" classes="text-cyan" /><span class="relative -left-2 text-cyan">rch</span>btw.
          </p>
        </div>

        <Image src={me} alt="Hi! I'm Justin Paelmo!" class="order-1 md:order-2 mx-auto md:mx-unset contrast-125 h-full w-auto rounded-full max-w-xs mb-8 md:mb-0 md:ml-12 border border-yellow"/>
      </div>

      <div class="flex flex-row gap-x-3 pt-8 justify-center text-xl">
        <PillButton class="text-3xl green" url="/resume.pdf" target="_blank">
          <NerdfontIcon icon="nf-md-file_document" /> resume
        </PillButton>
        <!-- <PillButton color="cyan" url="/blog"> -->
        <!--   <NerdfontIcon icon="nf-md-pen" /> blog -->
        <!-- </PillButton> -->
      </div>
    </div>

  </section>
  <!--
  <section>
    <div class="container mx-auto w-11/12 lg:w-full">
      <h3>some projects I'm working on</h3>
      <div class="p-8 border border-buffy border-opacity-30">
        <Slider items={projects} />
      </div>
    </div>
  </section>
-->
  <section id="about-me">
    <div class="justin-container">
      <h2 class="text-yellow">about me &amp; work history</h2>

      <div class="flex flex-row items-center justify-between about-timeframe">
        <h3 class="text-pink">2009 - 2016</h3>
        <h4 class="text-cyan">AdvantageServices</h3>
      </div>

      <p>I started professional web development in 2009 back in the SFTP, jQuery, and early PHP days.</p>
      <p>I worked at a small b2b agency that handled dozens of clients on a regular basis handling every portion of the stack.</p>
      <p>During this time I had already picked up working in a lot of LEGACY web technologies. My first few frameworks were Wordpress and Drupal respectively. Eventually I really got a taste of backend UI development through a combination of ColdFusion/ActionScript and XML parsing.</p>
      <p>I built control panel UI/UX frameworks for every use case in several global scale niche hiring firms <a href={resume}>(ask me about it!)</a>.</p>

      <div class="flex flex-row items-center justify-between about-timeframe mt-8">
        <h3 class="text-pink">2016 - now</h3>
        <h4 class="text-cyan">WojoDesign</h3>
      </div>

      <p>This was a big move for me both in going from Florida to Chicago, and finally moving towards more modern tech stacks in web development.</p>
      <p>I wrote my first JS to mobile application for a client, that involved allowing users to purchase native in-app subscriptions for both the apple AppStore and google's Play Store.</p>
      <p>About 2016 - 2018 was a lot of me learning tools like yarn, npm, node, liquid/handlebars. I also started delving into more backend CMS development.</p>
      <p>This was also the time period where I really leaned into more systems administration and automation workflows.</p>
      <p>From 2018 onwards I put a bigger focus on deepening my relationship with programming and web development.</p>
      <p>I continue to build and/or integrate user management systems and login front ends. I also developed a few internal plugins for the Craft CMS platform.</p>
      <p>I've been incorporating more and more workflows that involve CI/CD practices for code deployment and environment management.</p>
    </div>
  </section>

  <section id="social" class="bg-dark-700 mix-blend-multiply py-8">
    <div class="justin-container flex flex-col items-center justify-center">
      <h2 class="text-darker-50">social media</h2>
      <SocialMediaList />
    </div>
  </section>
</BaseLayout>

<style>
#about-me {
  .justin-container {
    p {
      @apply text-dark-600 text-2xl;
    }
  }
}
</style>
